var feeForAdult=1e3,feeForChild=800;function countFee(){$("#feeByMember").html(0);var e=$("#feeByAdultCheck").prop("checked"),a=$("#feeByChildCheck").prop("checked");if(e){var n=parseInt($("#feeByMember").html());n+=parseInt($("#feeByAdult").val())*feeForAdult,$("#feeByMember").html(n)}if(a){n=parseInt($("#feeByMember").html());n+=parseInt($("#feeByChild").val())*feeForChild,$("#feeByMember").html(n)}}function appendAvailableDate(e){var a="";_.each(e,(function(e){var n=e.date,t=e.remainingQuota,l=e.day,f=e.id;a+='<div class="column-x2"><input id="'+f+'" type="checkbox">'+n+"("+l+')<font class="red">(剩餘：'+t+"人)</font></div>"})),$("#available_date").empty(),$("#available_date").append(a)}function setPlan(){getPlan().then((function(e){var a=e.data,n=$('input[name="planType"]:checked').val();appendAvailableDate(a=_.filter(a,["planType",n]))}))}$(document).ready((function(){$("#feeByMember").html(0),setPlan()})),$("#feeByAdultCheck, #feeByChildCheck").change((function(){countFee()})),$("#feeByAdult, #feeByChild").keyup((function(e){countFee()})),$('input[name="planType"]').change((function(){setPlan()}));